{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "storageController",
        "id": "storageController"
    },
    "designerId": "2b6f81fe-43bc-4d5a-8f36-22b2fbcccbfe",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageMainData",
                "implHandler": [
                    "//Ext.getCmp(\"storageMainGrid\").getStore().loadPage(1);",
                    "Ext.getCmp(\"storageMainGrid\").getStore().load();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storageMain1.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var htmlData = '<pre>\\r\\n';",
                    "        htmlData += data.status + '\\r\\n';",
                    "        htmlData += '</pre>';",
                    "",
                    "        Ext.getCmp(\"storageMainDetail\").update(htmlData);",
                    "        Ext.getCmp(\"storageMainDetail\").updateLayout();",
                    "    }",
                    "});",
                    "",
                    "this.setStorageTopButtonsText();"
                ]
            },
            "designerId": "b21b07b2-61ca-4b52-88db-56e8bdff819c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageHostData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "this.setStorageHostButtonText();"
                ]
            },
            "designerId": "fad7407a-335a-4dd9-86c8-8934b9f201f6"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageMonData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storageMon2.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var htmlData = '<pre>\\r\\n';",
                    "",
                    "        Ext.each(data, function(mon){",
                    "            htmlData += mon.name + '\\r\\n';",
                    "            htmlData += '    Avail Percent : ' + mon.avail_percent + '%\\r\\n';",
                    "            htmlData += '    Size Total(K) : ' + mon.kb_total + 'K\\r\\n';",
                    "            htmlData += '    Size Avail(K) : ' + mon.kb_avail + 'K\\r\\n';",
                    "            htmlData += '    Size Used(K)  : ' + mon.kb_used + 'K\\r\\n';",
                    "            htmlData += '    Health        : ' + mon.health + '\\r\\n';",
                    "            htmlData += '\\r\\n';",
                    "        });",
                    "",
                    "        htmlData += '</pre>';",
                    "",
                    "        Ext.getCmp(\"storageMonDetail\").update(htmlData);",
                    "        Ext.getCmp(\"storageMonDetail\").updateLayout();",
                    "    }",
                    "});",
                    "",
                    "this.setStorageMonButtonText();"
                ]
            },
            "designerId": "3234051b-c7fa-40af-b0fa-0741b4e8f4e0"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageOsdData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storageOsd.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var htmlData = '<pre>\\r\\n';",
                    "",
                    "        Ext.each(data, function(osd){",
                    "            htmlData += osd.name + '\\r\\n';",
                    "            htmlData += '    Public addr     : ' + osd.public_addr + '\\r\\n';",
                    "            htmlData += '    Cluster addr    : ' + osd.cluster_addr + '\\r\\n';",
                    "            htmlData += '    Heartbeat back  : ' + osd.heartbeat_back_addr + '\\r\\n';",
                    "            htmlData += '    Heartbeat front : ' + osd.heartbeat_front_addr + '\\r\\n';",
                    "            htmlData += '\\r\\n';",
                    "        });",
                    "",
                    "        htmlData += '</pre>';",
                    "",
                    "        Ext.getCmp(\"storageOsdDetail\").update(htmlData);",
                    "        Ext.getCmp(\"storageOsdDetail\").updateLayout();",
                    "    }",
                    "});",
                    "",
                    "this.setStorageOsdButtonText();"
                ]
            },
            "designerId": "459f2dba-7e73-4b6d-8425-9ee528de4906"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStoragePoolData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "this.setStoragePoolButtonText();"
                ]
            },
            "designerId": "db2dbf2e-2ea0-4aa4-8970-e1a51c5a5649"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStoragePgData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storagePgStats.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var htmlData = '<pre>\\r\\n';",
                    "",
                    "        htmlData += '    Acting               : ' + data.acting + '\\r\\n';",
                    "        htmlData += '    Log Size             : ' + data.log_size + '\\r\\n';",
                    "        htmlData += '    Ondisk Log Size      : ' + data.ondisk_log_size + '\\r\\n';",
                    "        htmlData += '    Num Read             : ' + data.stat_sum.num_read + '\\r\\n';",
                    "        htmlData += '    Num Object Recovered : ' + data.stat_sum.num_objects_recovered + '\\r\\n';",
                    "        htmlData += '    Num Object Omap      : ' + data.stat_sum.num_objects_omap + '\\r\\n';",
                    "        htmlData += '    Num Write            : ' + data.stat_sum.num_write + '\\r\\n';",
                    "        htmlData += '    Num Objects          : ' + data.stat_sum.num_objects + '\\r\\n';",
                    "        htmlData += '    Num Read kb          : ' + data.stat_sum.num_read_kb + '\\r\\n';",
                    "        htmlData += '    Num Write Kb         : ' + data.stat_sum.num_write_kb + '\\r\\n';",
                    "        htmlData += '    Num Bytes Recovered  : ' + data.stat_sum.num_bytes_recovered + '\\r\\n';",
                    "        htmlData += '    Num Object Copies    : ' + data.stat_sum.num_object_copies + '\\r\\n';",
                    "        htmlData += '    Num Bytes            : ' + data.stat_sum.num_bytes + '\\r\\n';",
                    "        htmlData += '    Num Objects Dirty    : ' + data.stat_sum.num_objects_dirty + '\\r\\n';",
                    "        htmlData += '    Up                   : ' + data.up + '\\r\\n';",
                    "        htmlData += '\\r\\n';",
                    "",
                    "        htmlData += '</pre>';",
                    "",
                    "        Ext.getCmp(\"storagePgDetail\").update(htmlData);",
                    "        Ext.getCmp(\"storagePgDetail\").updateLayout();",
                    "    }",
                    "});",
                    "",
                    "this.setStoragePgButtonText();"
                ]
            },
            "designerId": "b9f83a46-4a9d-4f1d-9eea-57ff7f16ae6b"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageUsageData",
                "implHandler": [
                    "//Ext.getCmp(storageConstants.workingGrid).getStore().loadPage(1);",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().load();",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storageUsage1.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "        Ext.getCmp(\"storageUsageDetail1\").update(data);",
                    "    }",
                    "});",
                    "",
                    "var myChart = Ext.getCmp('storageUsageDetailChart');",
                    "myChart.getStore().load();",
                    "",
                    "this.setStorageUsageButtonText();"
                ]
            },
            "designerId": "19653a38-f62a-4e39-9302-0eb42a30ec61"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageTopButtonsText",
                "implHandler": [
                    "this.setStorageHostButtonText();",
                    "this.setStorageMonButtonText();",
                    "this.setStorageOsdButtonText();",
                    "this.setStoragePoolButtonText();",
                    "this.setStoragePgButtonText();",
                    "this.setStorageUsageButtonText();",
                    ""
                ]
            },
            "designerId": "5182f0b7-3f87-4baa-b02c-33442f056bb3"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageHostButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    //url: GLOBAL.urlPrefix + \"resources/json/storageHost.json\",",
                    "    url: GLOBAL.urlPrefix + Ext.getCmp('storageHostGrid').getStore().getProxy().url,",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "",
                    "        Ext.each(data.list, function(list){",
                    "            totalCnt++;",
                    "            if (list.running == 'OK'){",
                    "                activeCnt++;",
                    "            }",
                    "        });",
                    "",
                    "        //Ext.getCmp(\"storageHostButton\").text  = \"HOST<br>\" + totalCnt.toString() + \" / \" + activeCnt.toString() + \"<br>Running\";",
                    "        var textData = \"HOST<br>\" + activeCnt.toString() + \" / \" + totalCnt.toString() + \"<br>Running\";",
                    "        Ext.getCmp(\"storageHostButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "5a2af19a-f4a2-48bd-8016-7a20c615e1cc"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageMonButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    //url: GLOBAL.urlPrefix + \"resources/json/storageMon.json\",",
                    "    url: GLOBAL.urlPrefix + Ext.getCmp('storageMonGrid').getStore().getProxy().url,",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "",
                    "        Ext.each(data, function(list){",
                    "            totalCnt++;",
                    "            if (list.in_quorum === true){",
                    "                activeCnt++;",
                    "            }",
                    "        });",
                    "",
                    "        //Ext.getCmp(\"storageMonButton\").text  = \"MON<br>\" + totalCnt.toString() + \" / \" + activeCnt.toString() + \"<br>Quorum\";",
                    "        var textData = \"MON<br>\" + activeCnt.toString() + \" / \" + totalCnt.toString() + \"<br>Quorum\";",
                    "        Ext.getCmp(\"storageMonButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "e9c73e4b-f748-431e-8d1f-d31f6018975a"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageOsdButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    //url: GLOBAL.urlPrefix + \"resources/json/storageOsd.json\",",
                    "    url: GLOBAL.urlPrefix + Ext.getCmp('storageOsdGrid').getStore().getProxy().url,",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "",
                    "        Ext.each(data, function(list){",
                    "            totalCnt++;",
                    "            if ((list.status == 'up/in') || (list.status == 'in/up')){",
                    "                activeCnt++;",
                    "            }",
                    "        });",
                    "",
                    "        //Ext.getCmp(\"storageOsdButton\").text  = \"OSD<br>\" + totalCnt.toString() + \" / \" + activeCnt.toString() + \"<br>In & Up\";",
                    "        var textData = \"OSD<br>\" + activeCnt.toString() + \" / \" + totalCnt.toString() + \"<br>In & Up\";",
                    "        Ext.getCmp(\"storageOsdButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "a3b342f2-1d54-4c6b-9e8f-f2dde9d623ea"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStoragePoolButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    //url: GLOBAL.urlPrefix + \"resources/json/storagePool.json\",",
                    "    url: GLOBAL.urlPrefix + Ext.getCmp('storagePoolGrid').getStore().getProxy().url,",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "",
                    "        totalCnt = data.length;",
                    "",
                    "        //Ext.getCmp(\"storagePoolButton\").text  = \"POOL<br>\" + totalCnt.toString() + \"<br>Active\";",
                    "        var textData = \"POOL<br>\" + totalCnt.toString() + \"<br>Active\";",
                    "        Ext.getCmp(\"storagePoolButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "1b9b4bbc-4650-4cd0-8e4e-3f354e091d8b"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStoragePgButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    //url: GLOBAL.urlPrefix + \"resources/json/storagePg.json\",",
                    "    url: GLOBAL.urlPrefix + Ext.getCmp('storagePgGrid').getStore().getProxy().url,",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "",
                    "        Ext.each(data, function(list){",
                    "            totalCnt += list.num;",
                    "            if (list.name == 'active+clean'){",
                    "                activeCnt += list.num;",
                    "            }",
                    "        });",
                    "",
                    "        //Ext.getCmp(\"storagePgButton\").text  = \"PG Status<br>\" + totalCnt.toString() + \" / \" + activeCnt.toString() + \"<br>Active/Clean\";",
                    "        var textData = \"PG Status<br>\" + activeCnt.toString() + \" / \" + totalCnt.toString() + \"<br>Active/Clean\";",
                    "        Ext.getCmp(\"storagePgButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "72cd8506-9235-4339-bd7b-ad8cc6259fc0"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "setStorageUsageButtonText",
                "implHandler": [
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storageUsage1.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var totalCnt = 0;",
                    "        var activeCnt = 0;",
                    "        var units = '';",
                    "",
                    "        Ext.each(data, function(list){",
                    "            totalCnt += list.total_kb;",
                    "            activeCnt += list.total_kb_used;",
                    "        });",
                    "",
                    "        if (totalCnt > 1073741824){",
                    "            totalCnt  /= 1073741824;  // Kb -> Tb (1024 * 1024 * 1024)",
                    "            activeCnt /= 1073741824;  // Kb -> Tb (1024 * 1024 * 1024)",
                    "            units = 'Tb';",
                    "        } else {",
                    "            totalCnt  /= 1048576;  // Kb -> Gb (1024 * 1024)",
                    "            activeCnt /= 1048576;     // Kb -> Gb (1024 * 1024)",
                    "            units = 'Gb';",
                    "        }",
                    "",
                    "        //Ext.getCmp(\"storageUsageButton\").text  = \"Usage<br>&nbsp;<br>\" + totalCnt.toFixed(1) + units + \" / \" + activeCnt.toFixed(1) + units;",
                    "        var textData = \"Usage<br>&nbsp;<br>\" + activeCnt.toFixed(1) + units + \" / \" + totalCnt.toFixed(1) + units;",
                    "        Ext.getCmp(\"storageUsageButton\").setText(textData);",
                    "    }",
                    "});",
                    ""
                ]
            },
            "designerId": "e9d9b9e0-2c69-457e-baae-578b96c461d3"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addStorageHost",
                "implHandler": [
                    "//Add Host Execute",
                    "",
                    "var myForm = Ext.getCmp(\"hostAddFormPanel\");",
                    "",
                    "var host = myForm.getForm().findField(\"hostAddHost\").getValue();",
                    "var user = myForm.getForm().findField(\"hostAddUser\").getValue();",
                    "var pass = myForm.getForm().findField(\"hostAddPass\").getValue();",
                    "",
                    "var myData = {'list':[{'type':'mon', 'id':host, 'hostname':host, 'running':'OK'}]};",
                    "//Ext.MessageBox.alert(\"info\", Ext.JSON.encode(myData));",
                    "",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().loadRawData(myData, true);",
                    "",
                    "myForm.up('window').close();",
                    "",
                    "this.setStorageHostButtonText();"
                ]
            },
            "designerId": "d0036f00-01bd-403f-a030-15a615e31ad6"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addStorageMon",
                "implHandler": [
                    "//Add Mon Execute",
                    "",
                    "var myForm = Ext.getCmp(\"monAddFormPanel\");",
                    "var host = myForm.getForm().findField(\"monAddHost\").getValue();",
                    "var addr = myForm.getForm().findField(\"monAddIP\").getValue();",
                    "",
                    "if (storageConstants.editMode == 'add') {",
                    "    var myData = {'name':host, 'rank':10, 'in_quorum':true, 'server':host, 'ip':addr, 'port':'6780', 'pid':'0', 'addr':addr+':6780/0'};",
                    "",
                    "    //Ext.MessageBox.alert(\"info\", Ext.JSON.encode(myData));",
                    "",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().loadRawData(myData, true);",
                    "} else {",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('name', host);",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('server', host);",
                    "}",
                    "",
                    "myForm.up('window').close();",
                    "",
                    "this.setStorageMonButtonText();"
                ]
            },
            "designerId": "724eed1f-9684-4086-8e88-079ba1ab9c46"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addStorageOsd",
                "implHandler": [
                    "//Add Osd Execute",
                    "",
                    "var myForm = Ext.getCmp(\"osdAddFormPanel\");",
                    "var host = myForm.getForm().findField(\"osdAddHost\").getValue();",
                    "var addr = myForm.getForm().findField(\"osdAddIP\").getValue();",
                    "",
                    "var myData = {",
                    "  'name':'osd.10',",
                    "  'id':10,",
                    "  'status':'up/in',",
                    "  'ip':addr,",
                    "  'port':'6800',",
                    "  'pid':'1633',",
                    "  'public_addr':addr + ':6800/1633',",
                    "  'cluster_addr':'10.0.0.229:6800/1633',",
                    "  'heartbeat_back_addr':'10.0.0.229:6801/1633',",
                    "  'heartbeat_front_addr':addr + ':6801/1633',",
                    "  'up_from':86,",
                    "  'host':host",
                    " };",
                    "",
                    "//Ext.MessageBox.alert(\"info\", Ext.JSON.encode(myData));",
                    "",
                    "Ext.getCmp(storageConstants.workingGrid).getStore().loadRawData(myData, true);",
                    "",
                    "myForm.up('window').close();",
                    "",
                    "this.setStorageOsdButtonText();"
                ]
            },
            "designerId": "6fd6fb02-156d-4076-9224-3d836e9bfc10"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "addStoragePool",
                "implHandler": [
                    "//Add Pool Execute",
                    "",
                    "var myForm = Ext.getCmp(\"poolAddFormPanel\");",
                    "var name = myForm.getForm().findField(\"poolAddName\").getValue();",
                    "var size = myForm.getForm().findField(\"poolAddSize\").getValue();",
                    "var pgnm = myForm.getForm().findField(\"poolAddPgNum\").getValue();",
                    "",
                    "if (storageConstants.editMode == 'add') {",
                    "    var myData = {",
                    "     \"name\": name,",
                    "     \"id\": 21,",
                    "     \"size\": size,",
                    "     \"pg_num\": pgnm,",
                    "     \"crush_ruleset\": 0,",
                    "     \"min_size\": size,",
                    "     \"crash_replay_interval\": 0,",
                    "     \"pgp_num\": pgnm,",
                    "     \"hashpspool\": true,",
                    "     \"full\": false,",
                    "     \"quota_max_objects\": 0,",
                    "     \"quota_max_bytes\": 0",
                    "    };",
                    "",
                    "    //Ext.MessageBox.alert(\"info\", Ext.JSON.encode(myData));",
                    "",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().loadRawData(myData, true);",
                    "} else {",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('name', name);",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('size', size);",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('pg_num', pgnm);",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('min_size', size);",
                    "    Ext.getCmp(storageConstants.workingGrid).getStore().getAt(storageConstants.selectIndex).set('pgp_num', pgnm);",
                    "}",
                    "",
                    "myForm.up('window').close();",
                    "",
                    "this.setStoragePoolButtonText();"
                ]
            },
            "designerId": "885d8cb1-37c6-4ee4-8da5-721c7175fe83"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "editStorageMon",
                "implHandler": [
                    "//Add Popup 호출(title = Edit)",
                    "",
                    "storageConstants.editMode = 'edit';",
                    "var AddWindow = Ext.create('widget.monAddWindow');",
                    "AddWindow.title = 'Edit MON';",
                    "",
                    "var myForm = Ext.getCmp(\"monAddFormPanel\");",
                    "var nameField = myForm.getForm().findField(\"monAddHost\");",
                    "var addrField = myForm.getForm().findField(\"monAddIP\");",
                    "",
                    "var name = storageConstants.selectRow.get('server');",
                    "var addr = storageConstants.selectRow.get('ip');",
                    "",
                    "nameField.setValue(name);",
                    "addrField.setValue(addr);",
                    "",
                    "addrField.hide();",
                    "",
                    "AddWindow.show();",
                    ""
                ]
            },
            "designerId": "a936f997-c84f-4f71-97bc-ce5ffd83ee7c"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "deleteStorageMon",
                "implHandler": [
                    "Ext.Msg.show({",
                    "    title:'Confirm',",
                    "    msg: 'Delete selected MON?',",
                    "    buttons: Ext.Msg.OKCANCEL,",
                    "    icon: Ext.Msg.QUESTION,",
                    "    fn: function(btn) {",
                    "        if (btn === 'ok') {",
                    "            Ext.getCmp(storageConstants.workingGrid).getStore().remove(storageConstants.selectRow);",
                    "        }",
                    "    }",
                    "});",
                    "",
                    "this.setStorageMonButtonText();"
                ]
            },
            "designerId": "16b7454f-5bad-478d-98b7-1a9c60294ef0"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "editStoragePool",
                "implHandler": [
                    "//Add Popup 호출(title = Edit)",
                    "",
                    "storageConstants.editMode = 'edit';",
                    "var AddWindow = Ext.create('widget.poolAddWindow');",
                    "AddWindow.title = 'Edit POOL';",
                    "",
                    "var myForm = Ext.getCmp(\"poolAddFormPanel\");",
                    "var nameField = myForm.getForm().findField(\"poolAddName\");",
                    "var sizeField = myForm.getForm().findField(\"poolAddSize\");",
                    "var pgnmField = myForm.getForm().findField(\"poolAddPgNum\");",
                    "",
                    "var name = storageConstants.selectRow.get('name');",
                    "var size = storageConstants.selectRow.get('size');",
                    "var pgnm = storageConstants.selectRow.get('pg_num');",
                    "",
                    "nameField.setValue(name);",
                    "sizeField.setValue(size);",
                    "pgnmField.setValue(pgnm);",
                    "",
                    "AddWindow.show();",
                    ""
                ]
            },
            "designerId": "a2f1cb0e-972b-4b48-910e-e937b4cbdf38"
        },
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "deleteStoragePool",
                "implHandler": [
                    "Ext.Msg.show({",
                    "    title:'Confirm',",
                    "    msg: 'Delete selected POOL?',",
                    "    buttons: Ext.Msg.OKCANCEL,",
                    "    icon: Ext.Msg.QUESTION,",
                    "    fn: function(btn) {",
                    "        if (btn === 'ok') {",
                    "            Ext.getCmp(storageConstants.workingGrid).getStore().remove(storageConstants.selectRow);",
                    "        }",
                    "    }",
                    "});",
                    "",
                    "this.setStoragePoolButtonText();"
                ]
            },
            "designerId": "1b377855-09b1-4166-aa00-66f5aa5360af"
        },
        {
            "type": "fixedfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "application"
                ],
                "fn": "init",
                "implHandler": [
                    "var storage = this;",
                    "",
                    "var monGridContextMenu = new Ext.menu.Menu({",
                    "    items:",
                    "    [",
                    "        { text: 'Edit',",
                    "         handler: function() {",
                    "             storage.editStorageMon();",
                    "         }",
                    "        },",
                    "        { text: 'Delete',",
                    "         handler: function() {",
                    "             storage.deleteStorageMon();",
                    "         }",
                    "        }",
                    "    ]",
                    "",
                    "});",
                    "",
                    "var poolGridContextMenu = new Ext.menu.Menu({",
                    "    items:",
                    "    [",
                    "        { text: 'Edit',",
                    "         handler: function() {",
                    "             storage.editStoragePool();",
                    "         }",
                    "        },",
                    "        { text: 'Delete',",
                    "         handler: function() {",
                    "             storage.deleteStoragePool();",
                    "         }",
                    "        }",
                    "    ]",
                    "",
                    "});",
                    "",
                    "Ext.define('storageConstants', {",
                    "    singleton: true,",
                    "    me : storage,",
                    "    monContextMenu: monGridContextMenu,",
                    "    poolContextMenu: poolGridContextMenu,",
                    "    workingGrid: '',",
                    "    selectRow:  null,",
                    "    selectIndex: 0,",
                    "    editMode: 'add',",
                    "    chartInterval : null",
                    "});"
                ]
            },
            "designerId": "5389ed0c-dbb6-49b9-a2b7-5a906c678e8a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageMainContainer",
                "designer|targetType": "Ext.container.Container",
                "fn": "onStorageMainContainerActivate",
                "implHandler": [
                    "storageConstants.workingGrid = 'storageMainGrid';",
                    "",
                    "this.setStorageMainData();"
                ],
                "name": "activate",
                "scope": "me"
            },
            "designerId": "a418db09-e50f-4684-93d3-665e4fccf25c"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageHostButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStorageHostButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storageHostGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(1);",
                    "this.setStorageHostData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "7ae3c45b-940e-4e94-b4ac-32927f4f2caa"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageMonButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStorageMonButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storageMonGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(2);",
                    "this.setStorageMonData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "e557fe1e-8fe6-48ac-bfba-b6be8c63ad8e"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageOsdButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStorageOsdButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storageOsdGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(3);",
                    "this.setStorageOsdData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "967ffec4-6f78-4d16-9087-b39496415292"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storagePoolButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStoragePoolButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storagePoolGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(4);",
                    "this.setStoragePoolData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "019259e4-1c2c-4ac8-8daf-40adfb7ab64a"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storagePgButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStoragePgButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storagePgGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(5);",
                    "this.setStoragePgData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "171b2766-16bf-4ccc-b91b-fcd24b7f08d2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageUsageButton",
                "designer|targetType": "Ext.button.Button",
                "fn": "onStorageUsageButtonClick",
                "implHandler": [
                    "storageConstants.workingGrid = 'storageUsageGrid';",
                    "",
                    "Ext.getCmp('storageCenterContainer').layout.setActiveItem(6);",
                    "this.setStorageUsageData();"
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "fe473ba8-e8d2-4e81-a4d8-097714866eb8"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageOsdGrid",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onStorageOsdGridpanelCellClick",
                "implHandler": [
                    ""
                ],
                "name": "cellclick",
                "scope": "me"
            },
            "designerId": "f15b8a9b-dfd2-4124-bc73-3c1941bc4435"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storagePoolGrid",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onStoragePoolGridpanelCellClick",
                "implHandler": [
                    "var gId = Ext.getCmp(storageConstants.workingGrid).getStore().getAt(rowIndex).get('id');",
                    "var gNm = Ext.getCmp(storageConstants.workingGrid).getStore().getAt(rowIndex).get('name');",
                    "",
                    "Ext.Ajax.request({",
                    "    url: GLOBAL.urlPrefix + \"resources/json/storagePoolStats.json\",",
                    "    disableCaching : true,",
                    "    success: function(response){",
                    "        var data = Ext.decode(response.responseText);",
                    "",
                    "        var htmlData = '<pre>\\r\\n';",
                    "",
                    "        Ext.each(data, function(pool){",
                    "",
                    "            if (pool.poolid == gId) {",
                    "                htmlData += gNm + '\\r\\n';",
                    "                htmlData += '    Log Size             : ' + pool.log_size + '\\r\\n';",
                    "                htmlData += '    Ondisk Log Size      : ' + pool.ondisk_log_size + '\\r\\n';",
                    "                htmlData += '    Num Read             : ' + pool.stat_sum.num_read + '\\r\\n';",
                    "                htmlData += '    Num Object Recovered : ' + pool.stat_sum.num_objects_recovered + '\\r\\n';",
                    "                htmlData += '    Num Object Omap      : ' + pool.stat_sum.num_objects_omap + '\\r\\n';",
                    "                htmlData += '    Num Write            : ' + pool.stat_sum.num_write + '\\r\\n';",
                    "                htmlData += '    Num Objects          : ' + pool.stat_sum.num_objects + '\\r\\n';",
                    "                htmlData += '    Num Read kb          : ' + pool.stat_sum.num_read_kb + '\\r\\n';",
                    "                htmlData += '    Num Write Kb         : ' + pool.stat_sum.num_write_kb + '\\r\\n';",
                    "                htmlData += '    Num Bytes Recovered  : ' + pool.stat_sum.num_bytes_recovered + '\\r\\n';",
                    "                htmlData += '    Num Object Copies    : ' + pool.stat_sum.num_object_copies + '\\r\\n';",
                    "                htmlData += '    Num Bytes            : ' + pool.stat_sum.num_bytes + '\\r\\n';",
                    "                htmlData += '    Num Objects Dirty    : ' + pool.stat_sum.num_objects_dirty + '\\r\\n';",
                    "                htmlData += '\\r\\n';",
                    "",
                    "                return false;",
                    "            }",
                    "        });",
                    "",
                    "        htmlData += '</pre>';",
                    "",
                    "        Ext.getCmp(\"storagePoolDetail\").update(htmlData);",
                    "        Ext.getCmp(\"storagePoolDetail\").updateLayout();",
                    "    }",
                    "});",
                    ""
                ],
                "name": "cellclick",
                "scope": "me"
            },
            "designerId": "e98f413a-5e2b-49d4-86e1-0ecebe4d11d0"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageHostAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onHostAddButtonClick",
                "implHandler": [
                    "//Add Popup 호출",
                    "",
                    "storageConstants.editMode = 'add';",
                    "var AddWindow = Ext.create('widget.hostAddWindow');",
                    "AddWindow.title = 'Add HOST';",
                    "AddWindow.show();",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "245c4c1a-779d-49b5-9d5b-6d0a5b152b48"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageMonAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onMonAddButtonClick",
                "implHandler": [
                    "//Add Popup 호출",
                    "",
                    "storageConstants.editMode = 'add';",
                    "var AddWindow = Ext.create('widget.monAddWindow');",
                    "AddWindow.title = 'Add MON';",
                    "",
                    "",
                    "var myForm = Ext.getCmp(\"monAddFormPanel\");",
                    "var addrField = myForm.getForm().findField(\"monAddIP\");",
                    "addrField.show();",
                    "",
                    "AddWindow.show();",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "7fc4daad-2123-441c-a4ac-29de054caa6f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageOsdAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onOsdAddButtonClick",
                "implHandler": [
                    "//Add Popup 호출",
                    "",
                    "storageConstants.editMode = 'add';",
                    "var AddWindow = Ext.create('widget.osdAddWindow');",
                    "AddWindow.title = 'Add OSD';",
                    "AddWindow.show();",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "d911b2b5-7be4-4d77-8742-bafea8da9f28"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storagePoolAdd",
                "designer|targetType": "Ext.button.Button",
                "fn": "onPoolAddButtonClick",
                "implHandler": [
                    "//Add Popup 호출",
                    "",
                    "storageConstants.editMode = 'add';",
                    "var AddWindow = Ext.create('widget.poolAddWindow');",
                    "AddWindow.title = 'Add POOL';",
                    "AddWindow.show();",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "1d42e034-3daf-476e-983b-b7b6773935c5"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storageMonGrid",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onMonGridpanelBeforeItemContextMenu",
                "implHandler": [
                    "var position = e.getXY();",
                    "e.stopEvent();",
                    "",
                    "storageConstants.selectRow = record;",
                    "storageConstants.selectIndex = index;",
                    "",
                    "storageConstants.monContextMenu.showAt(position);"
                ],
                "name": "beforeitemcontextmenu",
                "scope": "me"
            },
            "designerId": "4133bf58-c5dc-46fe-83f2-d87047d4c70f"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#storagePoolGrid",
                "designer|targetType": "Ext.grid.Panel",
                "fn": "onPoolGridpanelBeforeItemContextMenu",
                "implHandler": [
                    "var position = e.getXY();",
                    "e.stopEvent();",
                    "",
                    "storageConstants.selectRow = record;",
                    "storageConstants.selectIndex = index;",
                    "",
                    "storageConstants.poolContextMenu.showAt(position);"
                ],
                "name": "beforeitemcontextmenu",
                "scope": "me"
            },
            "designerId": "13c55f44-e516-428b-a5a8-ffe74e3a280e"
        }
    ]
}