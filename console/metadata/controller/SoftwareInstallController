{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "SoftwareInstallController"
    },
    "designerId": "b0a458ee-4781-4ac1-86f6-5eed071d8b49",
    "cn": [
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#popComboSoftwareName",
                "designer|targetType": "Ext.form.field.ComboBox",
                "fn": "onPopComboSoftwareNameChange",
                "implHandler": [
                    "if(newValue != '') {",
                    "",
                    "    var store = Ext.getCmp(\"popComboSoftwareName\").getStore();",
                    "    var index = store.indexOf(store.findRecord(\"softwareName\", newValue));",
                    "",
                    "    var versionStore = Ext.getStore(\"ComboSoftwareVersionStore\");",
                    "",
                    "    versionStore.getProxy().extraParams = {",
                    "        softwareName : newValue",
                    "    };",
                    "    versionStore.load();",
                    "",
                    "    var installPanel = Ext.getCmp(\"softwareInstallPanel\");",
                    "    installPanel.layout.setActiveItem(index);",
                    "",
                    "    if(index == 1) {",
                    "",
                    "        var form = Ext.getCmp(\"jbossEWSTomcatForm\").getForm();",
                    "",
                    "        form.findField('bindAddress').setValue(instancesConstants.selectRow.get(\"ipAddr\"));",
                    "        form.findField('encoding').setValue(\"UTF-8\");",
                    "",
                    "        Ext.getCmp(\"jbossEWSTomcatForm\").down('#datasourceRemoveToolbar').hide();",
                    "",
                    "    } else if(index == 2) {",
                    "",
                    "        var form = Ext.getCmp(\"jbossEAPForm\").getForm();",
                    "",
                    "        form.findField('encoding').setValue(\"UTF-8\");",
                    "        form.findField('bindPort').setValue(\"ports-default\");",
                    "",
                    "        Ext.getCmp(\"jbossEAPForm\").down('#datasourceRemoveToolbar').hide();",
                    "",
                    "    }",
                    "",
                    "}",
                    ""
                ],
                "name": "change",
                "scope": "me"
            },
            "designerId": "85e65448-caef-498b-8aae-e7efe3888070"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|controlQuery": "#addDataSourceBtn",
                "designer|targetType": "Ext.button.Button",
                "fn": "onAddDataSourceBtnClick",
                "implHandler": [
                    "var form = button.up(\"form\"),",
                    "    orgObj = form.down(\"#datasourceSet\"),",
                    "    index = form.items.length;",
                    "",
                    "form.add(orgObj.cloneConfig({itemId : \"datasourceSet\"+index}));",
                    ""
                ],
                "name": "click",
                "scope": "me"
            },
            "designerId": "c557679c-301f-4459-89f4-c673b2035c88"
        }
    ]
}