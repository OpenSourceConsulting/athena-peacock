/*
 * File: app/view/AlmWizardWindow.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.AlmWizardWindow', {
    extend: 'Ext.window.Window',
    alias: 'widget.AlmWizardWindow',

    requires: [
        'MyApp.view.MyForm33',
        'Ext.toolbar.Toolbar',
        'Ext.toolbar.TextItem',
        'Ext.form.Label',
        'Ext.form.Panel',
        'Ext.form.field.Hidden',
        'Ext.button.Button',
        'Ext.grid.Panel',
        'Ext.grid.View',
        'Ext.form.field.Text',
        'Ext.grid.column.Action',
        'Ext.grid.RowNumberer',
        'Ext.form.field.Display'
    ],

    height: 600,
    id: 'AlmWizardWindow',
    itemId: 'AlmWizardWindow',
    width: 750,
    resizable: false,
    title: 'Project Wizard',
    modal: true,

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'panel',
                    height: 560,
                    width: 740,
                    layout: 'border',
                    header: false,
                    title: 'My Panel',
                    items: [
                        {
                            xtype: 'panel',
                            region: 'north',
                            height: 60,
                            id: 'almWizardTitlePanel',
                            itemId: 'almWizardTitlePanel',
                            header: false,
                            title: 'My Panel',
                            dockedItems: [
                                {
                                    xtype: 'toolbar',
                                    dock: 'top',
                                    items: [
                                        {
                                            xtype: 'tbtext',
                                            cls: 'wizard-label',
                                            componentCls: '',
                                            id: 'almWizardStepLabel0',
                                            itemId: 'almWizardStepLabel0',
                                            margin: '0 10 0 10',
                                            padding: '10 5 5 5',
                                            text: 'Step 1. Create Project',
                                            listeners: {
                                                render: {
                                                    fn: me.onAlmWizardStepLabel1Render,
                                                    scope: me
                                                }
                                            }
                                        },
                                        {
                                            xtype: 'tbtext',
                                            cls: 'wizard-label',
                                            id: 'almWizardStepLabel1',
                                            itemId: 'almWizardStepLabel1',
                                            margin: '0 10 0 10',
                                            padding: '10 5 5 5',
                                            text: 'Step 2. Add Space',
                                            listeners: {
                                                render: {
                                                    fn: me.onAlmWizardStepLabel2Render,
                                                    scope: me
                                                }
                                            }
                                        },
                                        {
                                            xtype: 'tbtext',
                                            cls: 'wizard-label',
                                            id: 'almWizardStepLabel2',
                                            itemId: 'almWizardStepLabel2',
                                            margin: '0 10 0 10',
                                            padding: '10 5 5 5',
                                            text: 'Step 3. Add User',
                                            listeners: {
                                                render: {
                                                    fn: me.onAlmWizardStepLabel3Render,
                                                    scope: me
                                                }
                                            }
                                        },
                                        {
                                            xtype: 'tbtext',
                                            cls: 'wizard-label',
                                            id: 'almWizardStepLabel3',
                                            itemId: 'almWizardStepLabel3',
                                            margin: '0 10 0 10',
                                            padding: '10 3 5 3',
                                            text: 'Step 4. Review Project Wizard',
                                            listeners: {
                                                render: {
                                                    fn: me.onAlmWizardStepLabel4Render,
                                                    scope: me
                                                }
                                            }
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            region: 'center',
                            id: 'almWizardCardPanel',
                            itemId: 'almWizardCardPanel',
                            layout: 'card',
                            items: [
                                {
                                    xtype: 'panel',
                                    header: false,
                                    title: 'My Panel',
                                    items: [
                                        {
                                            xtype: 'label',
                                            margin: '0 0 0 20',
                                            style: 'font-size: 25px;',
                                            text: 'Step 1. Create Project'
                                        },
                                        {
                                            xtype: 'myform33',
                                            itemId: 'addProjectForm',
                                            margin: '50 50 20 20',
                                            fieldDefaults: {
                                                msgTarget: 'side',
                                                labelWidth: 120,
                                                margin: '0 0 15 0'
                                            }
                                        },
                                        {
                                            xtype: 'hiddenfield',
                                            id: 'proejctCodeDuplYnField',
                                            itemId: 'proejctCodeDuplYnField',
                                            fieldLabel: 'Label'
                                        }
                                    ],
                                    dockedItems: [
                                        {
                                            xtype: 'toolbar',
                                            dock: 'bottom',
                                            ui: 'footer',
                                            layout: {
                                                type: 'hbox',
                                                pack: 'end'
                                            },
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        almConstants.me.goAlmWizardPanel(1);
                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 10 2 10',
                                                    text: 'Next'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        Ext.MessageBox.confirm('Confirm', '작업을 취소하시겠습니까?', function(btn){

                                                            if(btn == "yes"){
                                                                button.up("window").close();
                                                            }

                                                        });

                                                    },
                                                    margin: '0 50 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Cancel'
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    header: false,
                                    title: 'My Panel',
                                    items: [
                                        {
                                            xtype: 'label',
                                            height: 150,
                                            margin: '0 0 0 20',
                                            style: 'font-size:25px;',
                                            text: 'Step 2. Add Space'
                                        },
                                        {
                                            xtype: 'panel',
                                            height: 230,
                                            margin: '10 0 0 0',
                                            header: false,
                                            title: 'My Panel',
                                            items: [
                                                {
                                                    xtype: 'gridpanel',
                                                    height: 200,
                                                    id: 'wizardAddSpaceGrid',
                                                    itemId: 'wizardAddSpaceGrid',
                                                    margin: '10 0 0 0',
                                                    autoScroll: true,
                                                    header: false,
                                                    title: '',
                                                    columnLines: true,
                                                    forceFit: true,
                                                    store: 'AlmSpaceStore',
                                                    dockedItems: [
                                                        {
                                                            xtype: 'toolbar',
                                                            dock: 'top',
                                                            style: 'border-top-width: 1px !important;',
                                                            items: [
                                                                {
                                                                    xtype: 'textfield',
                                                                    fieldLabel: 'Filtering',
                                                                    labelWidth: 60
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'key',
                                                            text: 'Space'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'name',
                                                            text: 'Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 80,
                                                            dataIndex: 'type',
                                                            text: 'Type'
                                                        },
                                                        {
                                                            xtype: 'actioncolumn',
                                                            text: 'Add',
                                                            maxWidth: 60,
                                                            minWidth: 70,
                                                            style: 'text-align:left;',
                                                            width: 60,
                                                            defaultWidth: 60,
                                                            align: 'center',
                                                            menuText: '',
                                                            items: [
                                                                {
                                                                    handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                                                        var spaceStore = Ext.getCmp("wizardSelectSpaceGrid").getStore();
                                                                        if(spaceStore.find('key', record.get('key')) > -1) {
                                                                            Ext.Msg.alert('Message', "이미 선택된 Space 정보입니다.");
                                                                            return;
                                                                        }

                                                                        spaceStore.insert(spaceStore.getCount(), view.getStore().getAt(rowIndex));

                                                                    },
                                                                    icon: 'resources/images/icons/add.png',
                                                                    iconCls: ''
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'panel',
                                            height: 190,
                                            margin: '0 0 0 0',
                                            bodyStyle: 'border-top-width: 3px !important;',
                                            header: false,
                                            title: 'My Panel',
                                            items: [
                                                {
                                                    xtype: 'gridpanel',
                                                    height: 180,
                                                    id: 'wizardSelectSpaceGrid',
                                                    itemId: 'wizardSelectSpaceGrid',
                                                    autoScroll: true,
                                                    header: false,
                                                    title: 'My Grid Panel',
                                                    columnLines: true,
                                                    forceFit: true,
                                                    store: 'tempSpaceStore',
                                                    dockedItems: [
                                                        {
                                                            xtype: 'toolbar',
                                                            dock: 'top',
                                                            margin: '5 0 0 0',
                                                            items: [
                                                                {
                                                                    xtype: 'label',
                                                                    style: 'font-weight: bold;color: #666;',
                                                                    text: 'Selected Space'
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'key',
                                                            text: 'Space'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'name',
                                                            text: 'Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 80,
                                                            dataIndex: 'type',
                                                            text: 'Type'
                                                        },
                                                        {
                                                            xtype: 'actioncolumn',
                                                            text: 'Delete',
                                                            maxWidth: 60,
                                                            minWidth: 70,
                                                            style: 'text-align:left;',
                                                            width: 60,
                                                            defaultWidth: 60,
                                                            align: 'center',
                                                            menuText: '',
                                                            items: [
                                                                {
                                                                    handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                                                        view.getStore().removeAt(rowIndex);
                                                                    },
                                                                    icon: 'resources/images/icons/delete.png',
                                                                    iconCls: ''
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ],
                                    dockedItems: [
                                        {
                                            xtype: 'toolbar',
                                            dock: 'bottom',
                                            ui: 'footer',
                                            layout: {
                                                type: 'hbox',
                                                pack: 'end'
                                            },
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        almConstants.me.goAlmWizardPanel(0);
                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Preview'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        almConstants.me.goAlmWizardPanel(2);
                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 10 2 10',
                                                    text: 'Next'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        Ext.MessageBox.confirm('Confirm', '작업을 취소하시겠습니까?', function(btn){

                                                            if(btn == "yes"){
                                                                button.up("window").close();
                                                            }

                                                        });

                                                    },
                                                    margin: '0 50 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Cancel'
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    header: false,
                                    title: 'My Panel',
                                    items: [
                                        {
                                            xtype: 'label',
                                            height: 150,
                                            margin: '0 0 0 20',
                                            padding: '0 0 0 0',
                                            style: 'font-size:25px;',
                                            text: 'Step 3. Add User'
                                        },
                                        {
                                            xtype: 'panel',
                                            height: 220,
                                            margin: '20 0 0 0',
                                            bodyStyle: 'border-top-width: 1px !important;border-color:silver !important;',
                                            header: false,
                                            title: 'My Panel',
                                            items: [
                                                {
                                                    xtype: 'gridpanel',
                                                    height: 200,
                                                    id: 'wizardAddUserGrid',
                                                    itemId: 'wizardAddUserGrid',
                                                    autoScroll: true,
                                                    header: false,
                                                    title: '',
                                                    columnLines: true,
                                                    forceFit: true,
                                                    store: 'AlmUserStore',
                                                    columns: [
                                                        {
                                                            xtype: 'rownumberer',
                                                            width: 35
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'userId',
                                                            text: 'User Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'displayName',
                                                            text: 'Display Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 200,
                                                            dataIndex: 'emailAddress',
                                                            text: 'Email'
                                                        },
                                                        {
                                                            xtype: 'actioncolumn',
                                                            text: 'Add',
                                                            maxWidth: 60,
                                                            minWidth: 70,
                                                            style: 'text-align:left;',
                                                            width: 60,
                                                            defaultWidth: 60,
                                                            align: 'center',
                                                            menuText: '',
                                                            items: [
                                                                {
                                                                    handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                                                        var userStore = Ext.getCmp("wizardSelectUserGrid").getStore();
                                                                        if(userStore.find('userId', record.get('userId')) > -1) {
                                                                            Ext.Msg.alert('Message', "이미 선택된 User 정보입니다.");
                                                                            return;
                                                                        }

                                                                        userStore.insert(userStore.getCount(), view.getStore().getAt(rowIndex));

                                                                    },
                                                                    icon: 'resources/images/icons/add.png',
                                                                    iconCls: ''
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            xtype: 'panel',
                                            height: 190,
                                            margin: '',
                                            bodyStyle: 'border-top-width: 3px !important;',
                                            header: false,
                                            title: 'My Panel',
                                            items: [
                                                {
                                                    xtype: 'gridpanel',
                                                    height: 200,
                                                    id: 'wizardSelectUserGrid',
                                                    itemId: 'wizardSelectUserGrid',
                                                    autoScroll: true,
                                                    header: false,
                                                    title: '',
                                                    columnLines: true,
                                                    forceFit: true,
                                                    store: 'tempUserStore',
                                                    dockedItems: [
                                                        {
                                                            xtype: 'toolbar',
                                                            dock: 'top',
                                                            margin: '5 0 0 0',
                                                            items: [
                                                                {
                                                                    xtype: 'label',
                                                                    style: 'font-weight: bold;color: #666;',
                                                                    text: 'Selected User'
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'userId',
                                                            text: 'User Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'displayName',
                                                            text: 'Display Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 200,
                                                            dataIndex: 'emailAddress',
                                                            text: 'Email'
                                                        },
                                                        {
                                                            xtype: 'actioncolumn',
                                                            text: 'Delete',
                                                            maxWidth: 60,
                                                            minWidth: 70,
                                                            style: 'text-align:left;',
                                                            width: 60,
                                                            defaultWidth: 60,
                                                            align: 'center',
                                                            menuText: '',
                                                            items: [
                                                                {
                                                                    handler: function(view, rowIndex, colIndex, item, e, record, row) {
                                                                        view.getStore().removeAt(rowIndex);
                                                                    },
                                                                    icon: 'resources/images/icons/delete.png',
                                                                    iconCls: ''
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ],
                                    dockedItems: [
                                        {
                                            xtype: 'toolbar',
                                            dock: 'bottom',
                                            ui: 'footer',
                                            layout: {
                                                type: 'hbox',
                                                pack: 'end'
                                            },
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        almConstants.me.goAlmWizardPanel(1);
                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Preview'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        almConstants.me.goAlmWizardPanel(3);
                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 10 2 10',
                                                    text: 'Next'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        Ext.MessageBox.confirm('Confirm', '작업을 취소하시겠습니까?', function(btn){

                                                            if(btn == "yes"){
                                                                button.up("window").close();
                                                            }

                                                        });

                                                    },
                                                    margin: '0 50 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Cancel'
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    header: false,
                                    title: 'My Panel',
                                    items: [
                                        {
                                            xtype: 'label',
                                            height: 150,
                                            margin: '0 0 0 20',
                                            style: 'font-size:25px;',
                                            text: 'Step 4. Review Project Wizard'
                                        },
                                        {
                                            xtype: 'panel',
                                            height: 432,
                                            margin: '5 0 0 0',
                                            autoScroll: true,
                                            header: false,
                                            title: 'My Panel',
                                            items: [
                                                {
                                                    xtype: 'form',
                                                    frame: true,
                                                    id: 'reviewProjectForm',
                                                    itemId: 'reviewProjectForm',
                                                    margin: 20,
                                                    padding: '',
                                                    width: 680,
                                                    defaults: {
                                                        border: false,
                                                        xtype: 'panel',
                                                        flex: 1,
                                                        layout: 'anchor'
                                                    },
                                                    bodyPadding: 10,
                                                    bodyStyle: 'padding:5px 5px 0',
                                                    title: 'Project Information',
                                                    fieldDefaults: {
                                                        msgTarget: 'side',
                                                        margin: '0 10',
                                                        readOnly: true,
                                                        labelStyle: 'font-weight: bold;',
                                                        labelSeparator: ' :'
                                                    },
                                                    waitMsgTarget: 'instDescForm',
                                                    items: [
                                                        {
                                                            xtype: 'displayfield',
                                                            padding: 10,
                                                            fieldLabel: 'Project Name',
                                                            labelWidth: 140,
                                                            name: 'projectName'
                                                        },
                                                        {
                                                            xtype: 'displayfield',
                                                            padding: 10,
                                                            fieldLabel: 'Project Description',
                                                            labelWidth: 140,
                                                            name: 'projectDescription'
                                                        },
                                                        {
                                                            xtype: 'displayfield',
                                                            padding: 10,
                                                            fieldLabel: 'Group Description',
                                                            labelWidth: 140,
                                                            name: 'groupDescription'
                                                        },
                                                        {
                                                            xtype: 'displayfield',
                                                            padding: 10,
                                                            fieldLabel: 'Select Repository',
                                                            labelWidth: 140,
                                                            name: 'repository'
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'gridpanel',
                                                    frame: true,
                                                    height: 180,
                                                    margin: '0 20 20 20',
                                                    width: 680,
                                                    autoScroll: true,
                                                    title: 'Space Information',
                                                    columnLines: true,
                                                    emptyText: '<div style=\'text-align:center;\'>No Selected Data</div>',
                                                    forceFit: true,
                                                    store: 'tempSpaceStore',
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'key',
                                                            text: 'Space'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'name',
                                                            text: 'Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 80,
                                                            dataIndex: 'type',
                                                            text: 'Type'
                                                        }
                                                    ]
                                                },
                                                {
                                                    xtype: 'gridpanel',
                                                    frame: true,
                                                    height: 200,
                                                    margin: '0 20 10 20',
                                                    autoScroll: true,
                                                    title: 'User Information',
                                                    columnLines: true,
                                                    emptyText: '<div style=\'text-align:center;\'>No Selected Data</div>',
                                                    forceFit: true,
                                                    store: 'tempUserStore',
                                                    columns: [
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 100,
                                                            dataIndex: 'userId',
                                                            text: 'User Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 150,
                                                            dataIndex: 'displayName',
                                                            text: 'Display Name'
                                                        },
                                                        {
                                                            xtype: 'gridcolumn',
                                                            minWidth: 200,
                                                            dataIndex: 'emailAddress',
                                                            text: 'Email'
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ],
                                    dockedItems: [
                                        {
                                            xtype: 'toolbar',
                                            dock: 'bottom',
                                            ui: 'footer',
                                            layout: {
                                                type: 'hbox',
                                                pack: 'end'
                                            },
                                            items: [
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        var projectForm = Ext.getCmp("addProjectForm");

                                                        if(projectForm.isValid()) {

                                                            var wizardData = {};

                                                            var spaceStore = Ext.getCmp("wizardSelectSpaceGrid").getStore();
                                                            var userStore = Ext.getCmp("wizardSelectUserGrid").getStore();

                                                            wizardData.project = projectForm.getForm().getFieldValues();

                                                            if(spaceStore.getCount() > 0 ) {

                                                                var spaceItems = [];
                                                                Ext.each(Ext.pluck(spaceStore.data.items, 'data'), function(item) {
                                                                    var spaceItem = {};
                                                                    spaceItem.mappingCode = item.key;
                                                                    spaceItem.mappingType = "10";

                                                                    spaceItems.push(spaceItem);
                                                                });

                                                                wizardData.confluence = spaceItems;
                                                            }

                                                            if(userStore.getCount() > 0 ) {
                                                                wizardData.users = Ext.pluck(userStore.data.items, 'data');
                                                            }

                                                            Ext.Ajax.request({
                                                                url: GLOBAL.urlPrefix + "alm/project/wizard",
                                                                method: 'POST',
                                                                headers: { 'Content-Type': 'application/json' },
                                                                waitMsg: 'Create Project...',
                                                                jsonData: wizardData,
                                                                success: function (response) {

                                                                    var responseData = Ext.JSON.decode(response.responseText);

                                                                    if(responseData.success) {

                                                                        Ext.Msg.alert('Success', responseData.msg);

                                                                        Ext.getCmp('almProjectGrid').getStore().reload();
                                                                        projectForm.up('window').close();

                                                                    } else {

                                                                        Ext.Msg.alert('Failure', responseData.msg);

                                                                    }

                                                                },
                                                                failure: function (response) {
                                                                    var msg = Ext.JSON.decode(response.responseText).msg;

                                                                    Ext.Msg.alert('Failure', msg);
                                                                }
                                                            });

                                                        }

                                                    },
                                                    margin: '0 15 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Create Project'
                                                },
                                                {
                                                    xtype: 'button',
                                                    handler: function(button, e) {
                                                        Ext.MessageBox.confirm('Confirm', '작업을 취소하시겠습니까?', function(btn){

                                                            if(btn == "yes"){
                                                                button.up("window").close();
                                                            }

                                                        });

                                                    },
                                                    margin: '0 50 0 0',
                                                    padding: '2 5 2 5',
                                                    text: 'Cancel'
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    },

    onAlmWizardStepLabel1Render: function(component, eOpts) {
        component.getEl().on({
            click: function(el){
                almConstants.me.goAlmWizardPanel(0);
            },
            scope: component
        });

    },

    onAlmWizardStepLabel2Render: function(component, eOpts) {
        component.getEl().on({
            click: function(el){
                almConstants.me.goAlmWizardPanel(1);
            },
            scope: component
        });

    },

    onAlmWizardStepLabel3Render: function(component, eOpts) {
        component.getEl().on({
            click: function(el){
                almConstants.me.goAlmWizardPanel(2);
            },
            scope: component
        });

    },

    onAlmWizardStepLabel4Render: function(component, eOpts) {
        component.getEl().on({
            click: function(el){
                almConstants.me.goAlmWizardPanel(3);
            },
            scope: component
        });

    }

});