/*
 * File: app/view/MonitoringChartWindow.js
 *
 * This file was generated by Sencha Architect version 3.0.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('MyApp.view.MonitoringChartWindow', {
    extend: 'Ext.window.Window',
    alias: 'widget.MonitoringChartWindow',

    requires: [
        'Ext.toolbar.Toolbar',
        'Ext.toolbar.Spacer',
        'Ext.form.field.ComboBox',
        'Ext.form.field.Hidden',
        'Ext.panel.Panel',
        'Ext.chart.Chart',
        'Ext.chart.axis.Category',
        'Ext.chart.axis.Numeric',
        'Ext.chart.series.Line',
        'Ext.chart.Legend'
    ],

    height: 450,
    id: 'MonitoringChartWindow',
    itemId: 'MonitoringChartWindow',
    width: 650,
    layout: 'border',
    title: 'CPU',
    modal: true,

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            dockedItems: [
                {
                    xtype: 'toolbar',
                    dock: 'top',
                    items: [
                        {
                            xtype: 'tbspacer',
                            flex: 1
                        },
                        {
                            xtype: 'combobox',
                            id: 'comboTimeRange',
                            itemId: 'comboTimeRange',
                            width: 200,
                            fieldLabel: 'Time Range',
                            labelWidth: 80,
                            store: [
                                [
                                    '',
                                    '최근 30분'
                                ],
                                [
                                    '1h',
                                    '최근 1시간'
                                ],
                                [
                                    '3h',
                                    '최근 3시간'
                                ],
                                [
                                    '6h',
                                    '최근 6시간'
                                ],
                                [
                                    '12h',
                                    '최근 12시간'
                                ],
                                [
                                    '24h',
                                    '최근 24시간'
                                ],
                                [
                                    '3d',
                                    '최근 3일'
                                ],
                                [
                                    '1w',
                                    '최근 1주'
                                ],
                                [
                                    '2w',
                                    '최근 2주'
                                ]
                            ],
                            listeners: {
                                change: {
                                    fn: me.onComboTimeRangeChange,
                                    scope: me
                                }
                            }
                        },
                        {
                            xtype: 'combobox',
                            id: 'comboTimePeriod',
                            itemId: 'comboTimePeriod',
                            margin: '3 25 3 3',
                            padding: '0 0 0 10',
                            width: 150,
                            fieldLabel: 'Period',
                            labelWidth: 60,
                            store: [
                                [
                                    '',
                                    '1분'
                                ],
                                [
                                    '5m',
                                    '5분'
                                ],
                                [
                                    '15m',
                                    '15분'
                                ],
                                [
                                    '30m',
                                    '30분'
                                ],
                                [
                                    '1h',
                                    '1시간'
                                ],
                                [
                                    '6h',
                                    '6시간'
                                ],
                                [
                                    '1d',
                                    '1일'
                                ]
                            ],
                            listeners: {
                                change: {
                                    fn: me.onComboTimePeriodChange,
                                    scope: me
                                }
                            }
                        },
                        {
                            xtype: 'hiddenfield',
                            id: 'instanceMonitoringType',
                            itemId: 'instanceMonitoringType',
                            fieldLabel: 'Label'
                        },
                        {
                            xtype: 'hiddenfield',
                            id: 'instanceMonitoringMarchineId',
                            itemId: 'instanceMonitoringMarchineId',
                            fieldLabel: 'Label'
                        }
                    ]
                }
            ],
            items: [
                {
                    xtype: 'panel',
                    region: 'center',
                    activeItem: 1,
                    id: 'chartPanel',
                    itemId: 'chartPanel',
                    layout: 'card',
                    header: false,
                    title: 'chartPanel',
                    items: [
                        {
                            xtype: 'panel',
                            id: 'popCpuPanel',
                            layout: {
                                type: 'hbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'chart',
                                    flex: 1,
                                    id: 'popCpuChart',
                                    itemId: 'popCpuChart',
                                    margin: '5 0 0 5',
                                    shadow: true,
                                    autoSize: true,
                                    animate: true,
                                    insetPadding: 20,
                                    store: 'MonitoringPopupStore',
                                    axes: [
                                        {
                                            type: 'Category',
                                            constrain: true,
                                            fields: [
                                                'regDt'
                                            ],
                                            label: {
                                                rotate: {
                                                    degrees: 315
                                                }
                                            },
                                            grid: true,
                                            position: 'bottom'
                                        },
                                        {
                                            type: 'Numeric',
                                            fields: [
                                                'FACTOR_001',
                                                'FACTOR_002'
                                            ],
                                            grid: {
                                                odd: {
                                                    fill: '#dedede',
                                                    stroke: '#ddd',
                                                    'stroke-width': 0.5
                                                }
                                            },
                                            maximum: 100,
                                            minimum: 0,
                                            position: 'left'
                                        }
                                    ],
                                    series: [
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('FACTOR_002') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('FACTOR_002') + '%');
                                                    }
                                                }
                                            },
                                            title: 'Used',
                                            xField: 'regDt',
                                            yField: 'FACTOR_002',
                                            markerConfig: {
                                                radius: 3,
                                                size: 3
                                            },
                                            style: {
                                                stroke: '#ff0000',
                                                fill: '#ff0000'
                                            }
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('FACTOR_001') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('FACTOR_001') + '%');
                                                    }
                                                }
                                            },
                                            title: 'Free',
                                            xField: 'regDt',
                                            yField: 'FACTOR_001',
                                            markerConfig: {
                                                radius: 3,
                                                size: 3
                                            },
                                            style: {
                                                stroke: '#0000ff',
                                                fill: '#0000ff'
                                            }
                                        }
                                    ],
                                    legend: {

                                    }
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            id: 'popMemoryPanel',
                            layout: {
                                type: 'hbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'chart',
                                    flex: 1,
                                    id: 'popMemoryChart',
                                    itemId: 'popMemoryChart',
                                    margin: '5 0 0 5',
                                    shadow: true,
                                    autoSize: true,
                                    animate: true,
                                    insetPadding: 20,
                                    store: 'MonitoringPopupStore',
                                    axes: [
                                        {
                                            type: 'Category',
                                            constrain: true,
                                            fields: [
                                                'regDt'
                                            ],
                                            label: {
                                                rotate: {
                                                    degrees: 315
                                                }
                                            },
                                            grid: true,
                                            position: 'bottom'
                                        },
                                        {
                                            type: 'Numeric',
                                            fields: [
                                                'FACTOR_004',
                                                'FACTOR_005'
                                            ],
                                            grid: {
                                                odd: {
                                                    fill: '#dedede',
                                                    stroke: '#ddd',
                                                    'stroke-width': 0.5
                                                }
                                            },
                                            minimum: 0,
                                            position: 'left'
                                        }
                                    ],
                                    series: [
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 100,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('FACTOR_005') == null) {
                                                        this.setTitle('0KB');
                                                    } else {
                                                        this.setTitle(storeItem.get('FACTOR_005') + 'KB');
                                                    }
                                                }
                                            },
                                            title: 'Used',
                                            xField: 'regDt',
                                            yField: 'FACTOR_005',
                                            markerConfig: {
                                                radius: 3,
                                                size: 3
                                            },
                                            style: {
                                                stroke: '#ff0000',
                                                fill: '#ff0000'
                                            }
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 100,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('FACTOR_004') == null) {
                                                        this.setTitle('0KB');
                                                    } else {
                                                        this.setTitle(storeItem.get('FACTOR_004') + 'KB');
                                                    }
                                                }
                                            },
                                            title: 'Free',
                                            xField: 'regDt',
                                            yField: 'FACTOR_004',
                                            markerConfig: {
                                                radius: 3,
                                                size: 3
                                            },
                                            style: {
                                                stroke: '#0000ff',
                                                fill: '#0000ff'
                                            }
                                        }
                                    ],
                                    legend: {

                                    }
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            id: 'popDiskPanel',
                            layout: {
                                type: 'hbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'chart',
                                    flex: 1,
                                    cls: '',
                                    id: 'popDiskChart',
                                    itemId: 'popDiskChart',
                                    margin: '5 0 0 5',
                                    shadow: true,
                                    autoSize: true,
                                    animate: true,
                                    insetPadding: 20,
                                    store: 'MonitoringPopupStore',
                                    axes: [
                                        {
                                            type: 'Category',
                                            constrain: true,
                                            fields: [
                                                'regDt'
                                            ],
                                            label: {
                                                rotate: {
                                                    degrees: 315
                                                }
                                            },
                                            grid: true,
                                            position: 'bottom'
                                        },
                                        {
                                            type: 'Numeric',
                                            fields: [
                                                'DISK_1',
                                                'DISK_2',
                                                'DISK_3',
                                                'DISK_4',
                                                'DISK_5',
                                                'DISK_6',
                                                'DISK_7',
                                                'DISK_8',
                                                'DISK_9',
                                                'DISK_10'
                                            ],
                                            grid: {
                                                odd: {
                                                    fill: '#dedede',
                                                    stroke: '#ddd',
                                                    'stroke-width': 0.5
                                                }
                                            },
                                            maximum: 100,
                                            minimum: 0,
                                            position: 'left'
                                        }
                                    ],
                                    series: [
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_1') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_1') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_1',
                                            xField: 'regDt',
                                            yField: 'DISK_1',
                                            markerConfig: {
                                                radius: 3,
                                                size: 3
                                            }
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_2') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_2') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_2',
                                            xField: 'regDt',
                                            yField: 'DISK_2'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_3') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_3') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_3',
                                            xField: 'regDt',
                                            yField: 'DISK_3'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_4') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_4') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_4',
                                            xField: 'regDt',
                                            yField: 'DISK_4'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_5') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_5') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_5',
                                            xField: 'regDt',
                                            yField: 'DISK_5'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_6') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_6') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_6',
                                            xField: 'regDt',
                                            yField: 'DISK_6'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_7') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_7') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_7',
                                            xField: 'regDt',
                                            yField: 'DISK_7'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_8') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_8') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_8',
                                            xField: 'regDt',
                                            yField: 'DISK_8'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_9') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_9') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_9',
                                            xField: 'regDt',
                                            yField: 'DISK_9'
                                        },
                                        {
                                            type: 'line',
                                            highlight: {
                                                size: 7,
                                                radius: 7
                                            },
                                            label: {
                                                display: 'none',
                                                field: 'visits',
                                                renderer: function(v) { return v >> 0; },
                                                'text-anchor': 'middle'
                                            },
                                            showInLegend: false,
                                            tips: {
                                                trackMouse: true,
                                                width: 50,
                                                height: 25,
                                                renderer: function(storeItem, item) {
                                                    if(storeItem.get('DISK_10') == null) {
                                                        this.setTitle('0%');
                                                    } else {
                                                        this.setTitle(storeItem.get('DISK_10') + '%');
                                                    }
                                                }
                                            },
                                            title: 'DISK_10',
                                            xField: 'regDt',
                                            yField: 'DISK_10'
                                        }
                                    ],
                                    legend: {

                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        });

        me.callParent(arguments);
    },

    onComboTimeRangeChange: function(field, newValue, oldValue, eOpts) {
        if(oldValue != null) {
            instancesConstants.me.viewInstanceMonitoringPopup();
        }
    },

    onComboTimePeriodChange: function(field, newValue, oldValue, eOpts) {
        if(oldValue != null) {
            instancesConstants.me.viewInstanceMonitoringPopup();
        }
    }

});